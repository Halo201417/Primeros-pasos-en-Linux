# 13. Cambiar Permisos con `chmod` y N√∫meros üî¢

En este tema aprenderemos a cambiar los permisos de archivos y directorios utilizando el comando `chmod` y su formato num√©rico. A diferencia del formato simb√≥lico, los n√∫meros ofrecen una forma m√°s r√°pida y compacta de gestionar los permisos.

## ¬øC√≥mo Funcionan los N√∫meros en `chmod`?

Los permisos en Linux se pueden representar mediante un n√∫mero de 3 d√≠gitos, donde cada d√≠gito define los permisos para el **usuario propietario** (u), el **grupo** (g) y **otros usuarios** (o). Estos n√∫meros son el resultado de sumar valores predeterminados para **lectura**, **escritura** y **ejecuci√≥n**.

- **r** (lectura) = 4
- **w** (escritura) = 2
- **x** (ejecuci√≥n) = 1

Al sumar estos valores, obtenemos el n√∫mero correspondiente a cada conjunto de permisos.

## Tabla de Permisos Num√©ricos

Aqu√≠ tienes una tabla para entender c√≥mo se representan los permisos en n√∫meros:

| Permisos | N√∫mero |
|----------|--------|
| ---      | 0      |
| --x      | 1      |
| -w-      | 2      |
| -wx      | 3      |
| r--      | 4      |
| r-x      | 5      |
| rw-      | 6      |
| rwx      | 7      |

Cada uno de los tres d√≠gitos representa un conjunto de permisos:
- **Primer d√≠gito**: Permisos del **usuario propietario**.
- **Segundo d√≠gito**: Permisos del **grupo**.
- **Tercer d√≠gito**: Permisos para **otros usuarios**.

## Ejemplos Pr√°cticos

### Permisos Completos para el Usuario y Lectura para el Resto

Imaginemos que queremos darle al **usuario propietario** todos los permisos (lectura, escritura y ejecuci√≥n), mientras que al **grupo** y a **otros usuarios** solo permisos de lectura:

```bash
[alumno@debian:~]$ chmod 744 archivo.txt
```

Esto significa:

  - 7 (rwx) para el usuario.
  - 4 (r--) para el grupo.
  - 4 (r--) para otros usuarios.

### Permisos de Escritura y Lectura para Todos

Si queremos otorgar permisos de lectura y escritura tanto al usuario como al grupo y a otros:

```bash
[alumno@debian:~]$ chmod 666 documento.txt
```

Esto establece:

  - 6 (rw-) para el usuario.
  - 6 (rw-) para el grupo.
  - 6 (rw-) para otros usuarios.

### Solo el Usuario Puede Leer y Escribir

Si queremos que solo el usuario propietario pueda leer y escribir en un archivo, y nadie m√°s pueda acceder a √©l:

```bash
[alumno@debian:~]$ chmod 600 secreto.txt
```

Esto significa:

  - 6 (rw-) para el usuario.
  - 0 (---) para el grupo.
  - 0 (---) para otros usuarios.

### Permisos Completos para Todos

Si queremos que tanto el usuario propietario, el grupo, como otros usuarios puedan leer, escribir y ejecutar un archivo:

```bash
[alumno@debian:~]$ chmod 777 script.sh
```

Esto otorga:

  - 7 (rwx) para el usuario.
  - 7 (rwx) para el grupo.
  - 7 (rwx) para otros usuarios.

### C√≥mo Ver los Permisos Actuales

Si queremos ver los permisos actuales de un archivo o directorio, podemos usar el comando ls -l:

```bash
[alumno@debian:~]$ ls -l archivo.txt
-rwxr--r-- 1 alumno alumnos 1024 oct 18 20:00 archivo.txt
```

Este comando nos mostrar√° los permisos de lectura, escritura y ejecuci√≥n del archivo en un formato legible.

### M√°scara de Permisos en UNIX üé≠

La **m√°scara** en sistemas UNIX nos permite definir con qu√© permisos se crean por defecto nuestros archivos y directorios. De manera predeterminada, la m√°scara tiene un valor de **0666** para archivos (lo que corresponde a permisos `-rw-rw-rw-`). A partir de esta configuraci√≥n base, podemos ajustar permisos de manera espec√≠fica usando el comando `umask`.

### ¬øC√≥mo Funciona la M√°scara?

Dado que la m√°scara predeterminada es **0666**, podemos "quitar" permisos restando valores espec√≠ficos a esta base. Por ejemplo, si deseamos que los **grupos** y **otros usuarios** no tengan permisos de lectura y escritura, utilizaremos la siguiente operaci√≥n:

**0666 (permisos base) - 066 (m√°scara que aplicamos) = 0600 (permisos resultantes)**

Esto nos otorga permisos `rw-------`, es decir:
- **Usuario**: lectura y escritura.
- **Grupo y otros**: sin permisos.

Para aplicar estos cambios, podemos usar el comando `umask` de la siguiente forma:

```bash
[alumno@debian:~]$ umask 0066
```

#### Ejemplo pr√°ctico
Si consultamos el valor actual de la m√°scara en Debian, por defecto deber√≠a ser 0022 . Esto se traduce en permisos de 0644 (lectura y escritura para el usuario, solo lectura para grupo y otros).

```bash
[alumno@debian:~]$ umask
0022
```

Para cambiar la m√°scara y obtener el permiso 0600 en los archivos reci√©n creados, simplemente restamos 0666 - 066 = 0600y aplicamos el comando:

```bash
[alumno@debian:~]$ umask 0066
[alumno@debian:~]$ umask
0066
```

De esta manera, hemos modificado la m√°scara y conseguimos que todos los archivos y directorios se creen con permisos 0600 para archivos y 0700 para directorios.

### Resumen
La f√≥rmula general para calcular los permisos deseados es:

0666 - (m√°scara que aplicamos) = permisos que obtendremos

¬°Prueba diferentes combinaciones para ajustar los permisos predeterminados seg√∫n tus necesidades!

# Conclusi√≥n

Cambiar los permisos con chmod utilizando n√∫meros es una forma r√°pida y efectiva de gestionar qui√©n puede hacer qu√© con nuestros archivos. Recordando las combinaciones de 4, 2 y 1 para cada tipo de permiso, podemos personalizar los permisos f√°cilmente para diferentes usuarios y grupos.





































